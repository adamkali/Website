{"ast":null,"code":"var _jsxFileName = \"/home/me/Programming/js/Occult/occult/publishing_website/src/App.js\";\nimport './App.css';\nimport ScrollingHeade from './components/ScrollingHeader/ScrollingHeade';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport Home from './pages/Home';\nimport Support from './pages/Support';\nimport { Component, useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport NewestRelease from './pages/NewestRelease';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPublications = async () => {\n      const data = await axios.get(\"http://localhost:8000/api/publications\");\n      console.log(data);\n      this.setState({\n        publicationList: data,\n        isLoading: false\n      });\n    };\n\n    this.mostRecent = jsonData => {\n      var mostRecentJsonElement = Object.keys(jsonData)[0];\n\n      for (let index = 1; index < jsonData.length; index++) {\n        const jsonElement = Object.keys(jsonData)[index];\n\n        if (jsonElement.pub_id === this.compare(mostRecentJsonElement, jsonElement).pub_id) {\n          mostRecentJsonElement = jsonElement;\n        }\n      }\n\n      return mostRecentJsonElement;\n    };\n\n    this.compare = (jsonData1, jsonData2) => {\n      const date1Arr = jsonData1.pub_date.split(\"-\");\n      const date2Arr = jsonData2.pub_date.split(\"-\");\n\n      for (let index = 0; index < date1Arr.length; index++) {\n        const element1 = date1Arr[index];\n        const element2 = date2Arr[index];\n\n        if (parseInt(element1) > parseInt(element2)) {\n          return jsonData1;\n        } else if (parseInt(element2) > parseInt(element1)) {\n          return jsonData2;\n        }\n      }\n\n      console.log('An error has occured...');\n    };\n\n    this.state = {\n      publicationList: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    console.log('hello');\n    this.getPublications();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(ScrollingHeade, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: withRouter(Home)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/Newest_Release\",\n            render: props => /*#__PURE__*/_jsxDEV(NewestRelease, {\n              gloabalStore: this.mostRecent(this.publicationList),\n              ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/Support\",\n            component: withRouter(Support)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/me/Programming/js/Occult/occult/publishing_website/src/App.js"],"names":["ScrollingHeade","BrowserRouter","Router","Switch","Route","withRouter","Home","Support","Component","useState","useEffect","axios","NewestRelease","App","constructor","props","getPublications","data","get","console","log","setState","publicationList","isLoading","mostRecent","jsonData","mostRecentJsonElement","Object","keys","index","length","jsonElement","pub_id","compare","jsonData1","jsonData2","date1Arr","pub_date","split","date2Arr","element1","element2","parseInt","state","componentDidMount","render"],"mappings":"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","sourcesContent":["import './App.css';\nimport ScrollingHeade from './components/ScrollingHeader/ScrollingHeade';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport Home from './pages/Home';\nimport Support from './pages/Support'\nimport { Component, useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport NewestRelease from './pages/NewestRelease';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      publicationList: [],\n      isLoading: true,\n    }\n  }\n  getPublications = async () => {\n    const data = await axios.get(\"http://localhost:8000/api/publications\",\n      );\n    console.log(data)\n    this.setState({ publicationList: data, isLoading: false})\n  }\n  componentDidMount() {\n    console.log('hello')\n    this.getPublications();\n  }\n  mostRecent = (jsonData) => { \n    var mostRecentJsonElement = Object.keys(jsonData)[0]\n    for (let index = 1; index < jsonData.length; index++) {\n        const jsonElement = Object.keys(jsonData)[index];\n        if ( jsonElement.pub_id === this.compare(mostRecentJsonElement, jsonElement).pub_id ) {\n            mostRecentJsonElement = jsonElement;\n        }\n    }\n    return mostRecentJsonElement;        \n  };\n  compare = (jsonData1, jsonData2) => {\n    const date1Arr = jsonData1.pub_date.split(\"-\");\n    const date2Arr = jsonData2.pub_date.split(\"-\");\n    for (let index = 0; index < date1Arr.length; index++) {\n        const element1 = date1Arr[index];\n        const element2 = date2Arr[index];\n        if ( parseInt(element1) > parseInt(element2) ) {\n            return jsonData1;\n        } else if ( parseInt(element2) > parseInt(element1) ) {\n            return jsonData2;\n        }\n    }\n    console.log('An error has occured...')\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <Router>\n          <ScrollingHeade/>\n          <Switch>\n            <Route exact path='/' component={withRouter(Home)}/>\n            <Route path='/Newest_Release' render={(props) => <NewestRelease gloabalStore={this.mostRecent(this.publicationList)} {...props}/> }/>\n            <Route path='/Support' component={withRouter(Support)}/>\n          </Switch>\n        </Router>\n      </div>\n    );}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}